<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript Performance | Signal in the Static</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
    <meta name="description" content="Blog, notes and other stuff">
    <link rel="preload" href="/CompSci/assets/css/0.styles.f0c15ea1.css" as="style"><link rel="preload" href="/CompSci/assets/js/app.9e595c6c.js" as="script"><link rel="preload" href="/CompSci/assets/js/2.5c45e0ed.js" as="script"><link rel="preload" href="/CompSci/assets/js/49.36ffec01.js" as="script"><link rel="preload" href="/CompSci/assets/js/17.a8ef3d4e.js" as="script"><link rel="prefetch" href="/CompSci/assets/js/10.e96b1f78.js"><link rel="prefetch" href="/CompSci/assets/js/11.15d03fe7.js"><link rel="prefetch" href="/CompSci/assets/js/12.607376ad.js"><link rel="prefetch" href="/CompSci/assets/js/13.2d52ef55.js"><link rel="prefetch" href="/CompSci/assets/js/14.4e09b710.js"><link rel="prefetch" href="/CompSci/assets/js/15.cd08dde9.js"><link rel="prefetch" href="/CompSci/assets/js/16.e43851b2.js"><link rel="prefetch" href="/CompSci/assets/js/18.1fd4aa25.js"><link rel="prefetch" href="/CompSci/assets/js/19.27c9549f.js"><link rel="prefetch" href="/CompSci/assets/js/20.f3d7487c.js"><link rel="prefetch" href="/CompSci/assets/js/21.0f4e4779.js"><link rel="prefetch" href="/CompSci/assets/js/22.dc34a5f5.js"><link rel="prefetch" href="/CompSci/assets/js/23.96743339.js"><link rel="prefetch" href="/CompSci/assets/js/24.7d200d47.js"><link rel="prefetch" href="/CompSci/assets/js/25.d52b2fff.js"><link rel="prefetch" href="/CompSci/assets/js/26.39e3da81.js"><link rel="prefetch" href="/CompSci/assets/js/27.e7ac0606.js"><link rel="prefetch" href="/CompSci/assets/js/28.48ffd611.js"><link rel="prefetch" href="/CompSci/assets/js/29.89d9f5d0.js"><link rel="prefetch" href="/CompSci/assets/js/3.22b48287.js"><link rel="prefetch" href="/CompSci/assets/js/30.c7929813.js"><link rel="prefetch" href="/CompSci/assets/js/31.4cd2b34f.js"><link rel="prefetch" href="/CompSci/assets/js/32.15bba6fe.js"><link rel="prefetch" href="/CompSci/assets/js/33.44b8035d.js"><link rel="prefetch" href="/CompSci/assets/js/34.72d2463c.js"><link rel="prefetch" href="/CompSci/assets/js/35.93ecf406.js"><link rel="prefetch" href="/CompSci/assets/js/36.022ed979.js"><link rel="prefetch" href="/CompSci/assets/js/37.51b69b2f.js"><link rel="prefetch" href="/CompSci/assets/js/38.3f3eaf3a.js"><link rel="prefetch" href="/CompSci/assets/js/39.e51c39ad.js"><link rel="prefetch" href="/CompSci/assets/js/4.dee1fbce.js"><link rel="prefetch" href="/CompSci/assets/js/40.271b9cf3.js"><link rel="prefetch" href="/CompSci/assets/js/41.1ec9ae84.js"><link rel="prefetch" href="/CompSci/assets/js/42.0045f715.js"><link rel="prefetch" href="/CompSci/assets/js/43.bcbb53c5.js"><link rel="prefetch" href="/CompSci/assets/js/44.b487d58b.js"><link rel="prefetch" href="/CompSci/assets/js/45.af1b4170.js"><link rel="prefetch" href="/CompSci/assets/js/46.836577ad.js"><link rel="prefetch" href="/CompSci/assets/js/47.7b7d0ca6.js"><link rel="prefetch" href="/CompSci/assets/js/48.3381c289.js"><link rel="prefetch" href="/CompSci/assets/js/5.a67417c4.js"><link rel="prefetch" href="/CompSci/assets/js/50.c8e7b2b9.js"><link rel="prefetch" href="/CompSci/assets/js/51.ae26fa97.js"><link rel="prefetch" href="/CompSci/assets/js/52.c9ca1a44.js"><link rel="prefetch" href="/CompSci/assets/js/53.c071273a.js"><link rel="prefetch" href="/CompSci/assets/js/54.5cfee169.js"><link rel="prefetch" href="/CompSci/assets/js/55.355cf329.js"><link rel="prefetch" href="/CompSci/assets/js/56.59278406.js"><link rel="prefetch" href="/CompSci/assets/js/57.411a8c7f.js"><link rel="prefetch" href="/CompSci/assets/js/58.1af08036.js"><link rel="prefetch" href="/CompSci/assets/js/59.ee63cff6.js"><link rel="prefetch" href="/CompSci/assets/js/6.4ad1abc3.js"><link rel="prefetch" href="/CompSci/assets/js/60.c6504db4.js"><link rel="prefetch" href="/CompSci/assets/js/61.83cf62e1.js"><link rel="prefetch" href="/CompSci/assets/js/7.59e2630f.js"><link rel="prefetch" href="/CompSci/assets/js/8.3720b895.js"><link rel="prefetch" href="/CompSci/assets/js/9.02ee38a7.js">
    <link rel="stylesheet" href="/CompSci/assets/css/0.styles.f0c15ea1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/CompSci/" class="home-link router-link-active"><!----> <span class="site-name">Signal in the Static</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/CompSci/" class="nav-link">Home</a></div><div class="nav-item"><a href="/CompSci/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/CompSci/about/" class="nav-link">About</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/CompSci/" class="nav-link">Home</a></div><div class="nav-item"><a href="/CompSci/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/CompSci/about/" class="nav-link">About</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/CompSci/blog/" class="sidebar-link">Blog</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Notes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/CompSci/Books/" class="sidebar-heading clickable"><span>Books</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/CompSci/CompSci/" class="sidebar-heading clickable"><span>CompSci</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/CompSci/Math/" class="sidebar-heading clickable"><span>Math</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/CompSci/Programming/" class="sidebar-heading clickable router-link-active open"><span>Programming</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/CompSci/Programming/Brightscript.html" class="sidebar-link">Roku Brightscipt and SceneGraph</a></li><li><a href="/CompSci/Programming/Electron.html" class="sidebar-link">Electron</a></li><li><a href="/CompSci/Programming/Golang.html" class="sidebar-link">Golang</a></li><li><a href="/CompSci/Programming/Javascript.html" class="sidebar-link">Javascript</a></li><li><a href="/CompSci/Programming/Python.html" class="sidebar-link">Python</a></li><li><a href="/CompSci/Programming/ReactNative.html" class="sidebar-link">React Native</a></li><li><a href="/CompSci/Programming/Ruby.html" class="sidebar-link">Ruby</a></li><li><a href="/CompSci/Programming/class_theory.html" class="sidebar-link">Object Oriented Programming</a></li><li><a href="/CompSci/Programming/code_snippets.html" class="sidebar-link">Code snippets</a></li><li><a href="/CompSci/Programming/cpp.html" class="sidebar-link">C++</a></li><li><a href="/CompSci/Programming/js_performance.html" aria-current="page" class="active sidebar-link">Javascript Performance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/CompSci/Programming/js_performance.html#avoid-interaction-with-host-objects" class="sidebar-link">Avoid interaction with host objects</a></li><li class="sidebar-sub-header"><a href="/CompSci/Programming/js_performance.html#manage-and-actively-reduce-your-dependencies" class="sidebar-link">Manage and Actively reduce your Dependencies</a></li><li class="sidebar-sub-header"><a href="/CompSci/Programming/js_performance.html#be-disciplined-with-event-binding" class="sidebar-link">Be disciplined with event binding</a></li><li class="sidebar-sub-header"><a href="/CompSci/Programming/js_performance.html#maximise-the-efficiency-of-your-iterations" class="sidebar-link">Maximise the efficiency of your iterations</a></li></ul></li><li><a href="/CompSci/Programming/managing_servers.html" class="sidebar-link">[FSM] FullStack notes</a></li><li><a href="/CompSci/Programming/video_engineering.html" class="sidebar-link">Video engineering</a></li><li><a href="/CompSci/Programming/Shell/" class="sidebar-link">Shell programmming</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-solarized-content content__default"><h1 id="javascript-performance"><a href="#javascript-performance" class="header-anchor">#</a> Javascript Performance</h1> <blockquote><p>Some notes regarding JS performance</p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#avoid-interaction-with-host-objects">Avoid interaction with host objects</a></li><li><a href="#manage-and-actively-reduce-your-dependencies">Manage and Actively reduce your Dependencies</a></li><li><a href="#be-disciplined-with-event-binding">Be disciplined with event binding</a></li><li><a href="#maximise-the-efficiency-of-your-iterations">Maximise the efficiency of your iterations</a></li></ul></div><p></p> <p>[TOC]</p> <hr> <h2 id="avoid-interaction-with-host-objects"><a href="#avoid-interaction-with-host-objects" class="header-anchor">#</a> Avoid interaction with host objects</h2> <p>THE PROBLEM:</p> <p>Native JavaScript is compiled into machine code by most scripting engines offering incredible performance boost, however interaction with host (browser) objects outside the JavaScript native environment raises unpredictability and considerable performance lag, particularly when dealing with screen-rendered DOM objects or objects which cause Disk I/O (such as WebSQL).</p> <p>THE SOLUTION(S):</p> <blockquote><p>You can't really get away from them, but keep your interaction with host objects to an absolute minimum.</p></blockquote> <ul><li>Use CSS classes instead of JavaScript for DOM animation.</li> <li>Use fast DOM traversal with document.getElementById()</li> <li>Store pointer references to in-browser objects.</li> <li>Keep your HTML super-lean (get rid of all those useless DIV and SPAN tags)</li> <li>Batch your DOM changes, especially when updating styles. When making calls to modify DOM make sure you batch them up so as to avoid repeated screen rendering, for example when applying styling changes. The ideal approach here is to make many styling changes in one go by adding or removing a class, rather than apply each individual style separately. This is because every DOM change prompts the browser to re-render the whole UI using the boxing model. If you need to move an item across the page using X+Y coordinates, make sure that these two are applied at the same time rather than separately.</li> <li>Build DOM separately before adding it to the page.</li> <li>Use buffered DOM inside scrollable DIVs. You can use this technique to remove items from DOM that are not being visually rendered on screen, such as the area outside the viewport of a scrollable DIV, and append the nodes again when they are needed. This will reduce memory usage and DOM traversal speeds. <a href="https://examples.sencha.com/extjs/6.7.0/examples/classic/grid/buffered-store.html" target="_blank" rel="noopener noreferrer">Sencha | Grid with Buffered Store<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://examples.sencha.com/extjs/6.7.0/examples/classic/grid/buffer-grid.html" target="_blank" rel="noopener noreferrer">Sencha | Buffer Rendered Grid<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="manage-and-actively-reduce-your-dependencies"><a href="#manage-and-actively-reduce-your-dependencies" class="header-anchor">#</a> Manage and Actively reduce your Dependencies</h2> <p>THE PROBLEM:</p> <p>On-screen visual rendering and user experience is usually delayed while waiting for script dependencies load onto the browser. This is particularly bad for mobile users who have limited bandwidth capacity.</p> <p>THE SOLUTION(S):</p> <blockquote><p>Actively manage and reduce dependency payload in your code.</p></blockquote> <ul><li>Write code that reduces library dependencies to an absolute minimum.</li> <li>Minimize and combine your code into modules.</li> <li>Use a post-load dependency manager for your libraries and modules.</li> <li>Maximise use of caching (eTags, .js files, etc).</li></ul> <h2 id="be-disciplined-with-event-binding"><a href="#be-disciplined-with-event-binding" class="header-anchor">#</a> Be disciplined with event binding</h2> <p>THE PROBLEM:</p> <p>Browser and custom event handlers are an incredible tool for improving user experience and reducing the depth of the call stack (so you avoid having a function calling a function which calls another function etc), but since they are hard to track due to their '<em>hidden</em>' execution they can fire many times repeatedly and quickly get out of hand, causing performance degradation.</p> <p>THE SOLUTION(S):</p> <blockquote><p>Be mindful and disciplined when creating event handlers. Get to know your weapons too, if you are using a framework then find out what's going on underneath the hood.</p></blockquote> <ul><li>Pay special attention event handlers that fire in quick succession (ie, 'mousemove').</li> <li>Remember to unbind events when they are not needed.</li> <li>Use 'mouseup' instead of 'click'.</li></ul> <h2 id="maximise-the-efficiency-of-your-iterations"><a href="#maximise-the-efficiency-of-your-iterations" class="header-anchor">#</a> Maximise the efficiency of your iterations</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/12/2020, 5:46:19 PM</span></div></footer> <!----> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div></div></div>
    <script src="/CompSci/assets/js/app.9e595c6c.js" defer></script><script src="/CompSci/assets/js/2.5c45e0ed.js" defer></script><script src="/CompSci/assets/js/49.36ffec01.js" defer></script><script src="/CompSci/assets/js/17.a8ef3d4e.js" defer></script>
  </body>
</html>
